/* Make calendar cell position relative for absolute badge positioning */
::ng-deep .mat-calendar-body-cell {
    position: relative;
}

::ng-deep .mat-calendar-body-cell-content {
    border-radius: 0.5rem; /* Tailwind rounded-lg */
}

/* Small red badge in top right corner */
::ng-deep .mat-calendar-body-cell.has-events::after {
    content: attr(data-badge);
    position: relative;
    background-color: #ef4444; /* Tailwind red-500 */
    color: white;
    border-radius: 9999px; /* Tailwind rounded-full */
    width: 18px;
    height: 18px;
    font-size: 10px;
    font-weight: 700; /* Tailwind font-bold */
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    z-index: 10;
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1); /* Tailwind shadow */
    margin-left: 36px;
    margin-bottom: 36px;
}

/* Badge on selected date - keep red but add white border */
::ng-deep .mat-calendar-body-selected.has-events::after {
    background-color: #ef4444;
    color: white;
    box-shadow: 0 0 0 2px white;
}

/* Badge on today's date */
::ng-deep .mat-calendar-body-today.has-events::after {
    background-color: #ef4444;
    color: white;
}

/* Adjust Material Calendar styles to work better with Tailwind */
::ng-deep .mat-calendar {
    font-family: inherit;
}

::ng-deep .mat-calendar-body-selected {
    background-color: #4f46e5; /* Tailwind indigo-600 */
}

::ng-deep .mat-calendar-body-today:not(.mat-calendar-body-selected) {
    border-color: #4f46e5; /* Tailwind indigo-600 */
}

/* Remove the thin blue hover line */
::ng-deep
    .mat-calendar-body-cell:hover
    .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-disabled) {
    background-color: rgba(79, 70, 229, 0.1); /* Subtle indigo hover */
}
